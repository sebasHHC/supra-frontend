<div class="historial">
  <h2>üìñ Historial de Pr√©stamos</h2>

  <label>Selecciona un estudiante:</label>
 <select formControlName="usuarioId">

    <option value="">-- Seleccionar --</option>
    <option *ngFor="let e of estudiantes" [value]="e._id">{{ e.nombre }}</option>
  </select>

  <table *ngIf="prestamos.length > 0">
    <thead>
      <tr>
        <th>T√≠tulo</th>
        <th>Autor</th>
        <th>Fecha pr√©stamo</th>
        <th>Fecha devoluci√≥n</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of prestamos">
        <td>{{ p.libro.titulo }}</td>
        <td>{{ p.libro.autor }}</td>
        <td>{{ p.fechaPrestamo | date }}</td>
        <td>{{ p.fechaDevolucion ? (p.fechaDevolucion | date) : '‚Äî' }}</td>
        <td>{{ p.estado }}</td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="prestamos.length === 0 && form.get('usuarioId')?.value">Sin pr√©stamos registrados.</p>
</div>